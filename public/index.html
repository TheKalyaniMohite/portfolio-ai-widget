<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kalyani Mohite Portfolio</title>

  <style>
    /* =========================
       Base / Layout (unchanged)
       ========================= */
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      min-height: 100vh;
      background: #1a1f2c;
      color: #fff;
      font-family: 'Inter', Helvetica, sans-serif;
      overflow-x: hidden;
    }
    body { padding-top: 64px; }
    .hidden { display:none; }

    /* Top Navigation (kept from your file) */
    .main-top-nav {
      background: rgba(32, 39, 55, 0.95);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      position: fixed;
      top: 0; left: 0; right: 0;
      z-index: 1000;
      width: 100%; height: 64px;
      box-shadow: 0 4px 30px rgba(0,0,0,.3);
      border-bottom: 1px solid rgba(255,255,255,.07);
      transition: all .3s ease;
      display: flex; align-items: center; justify-content: center;
    }
    .main-top-nav .nav-flex {
      width: 100%; max-width: 1200px;
      display: flex; align-items: center; justify-content: space-between;
      padding: 0 30px; height: 64px;
    }
    .main-top-nav .nav-logo {
      font-size: 1.75rem; font-weight: 700;
      background: linear-gradient(45deg,#00e676,#00b8d4);
      -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent;
      letter-spacing:.05em;
      text-shadow: 0 2px 10px rgba(0,230,118,.3);
    }
    .main-top-nav ul {
      list-style:none; margin:0; padding:0;
      display:flex; gap:1.5rem; align-items:center; height:64px;
    }
    .main-top-nav li {
      position: relative; cursor: pointer;
      padding: 8px 20px; border-radius: 12px;
      font-size: 1rem; font-weight: 500;
      transition: all .3s ease; color: rgba(255,255,255,.85);
    }
    .main-top-nav li:hover, .main-top-nav li.active {
      background: rgba(0,230,118,.15);
      color:#fff; transform: translateY(-1px);
      box-shadow: 0 4px 15px rgba(0,230,118,.2);
    }
    .main-top-nav li a { color:inherit; text-decoration:none; display:block; padding:.2rem 0; }

    /* Sections (kept simplified) */
    .section { min-height: 100vh; padding: 80px 20px; display:flex; flex-direction:column; align-items:center; justify-content:center; }
    .hero {
      min-height: 100vh; width:100%;
      display:flex; align-items:flex-start; justify-content:center;
      padding: 8rem 2rem 2rem; box-sizing:border-box;
    }
    .jumbotron {
      background: rgba(255,255,255,.03);
      backdrop-filter: blur(10px);
      border-radius: 20px; padding: 3.5rem;
      max-width: 900px; width: 90%; margin: 0 auto;
      display:flex; flex-direction:column; align-items:center;
      border: 1px solid rgba(255,255,255,.05);
    }
    .jumbotron h1 {
      font-size: 3.5rem; font-weight: 700; margin-bottom: 2rem;
      background: linear-gradient(45deg,#00e676,#00b8d4);
      -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent;
    }
    .hero-intro { font-size:1.2rem; line-height:1.8; color:rgba(255,255,255,.9); text-align:justify; text-align-last:center; }
    .section-title {
      text-align:center; font-size:2.5rem; font-weight:700; margin-bottom:3rem;
      background: linear-gradient(45deg,#00e676,#00b8d4); -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent;
      position:relative; padding-bottom:1rem;
    }
    .section-title::after {
      content:''; position:absolute; bottom:0; left:50%; transform:translateX(-50%);
      width:60px; height:3px; background:linear-gradient(90deg,#00e676,#00b8d4); border-radius:2px;
    }

    /* ==========================================
       Floating AI Button + Chat-style Widget CSS
       ========================================== */
    .floating-ai-button {
      position: fixed; bottom: 28px; right: 28px;
      width: 60px; height: 60px; border-radius: 50%;
      background: linear-gradient(45deg,#00e676,#00b8d4);
      border: none; color:#111; font-size: 24px; cursor: pointer;
      display:flex; align-items:center; justify-content:center;
      box-shadow: 0 8px 25px rgba(0,230,118,.3);
      transition: transform .2s ease, box-shadow .2s ease;
      z-index: 1000;
    }
    .floating-ai-button:hover { transform: translateY(-3px) scale(1.05); box-shadow: 0 12px 35px rgba(0,230,118,.4); }

    .ai-widget {
      position: fixed; bottom: 100px; right: 28px;
      width: 380px; max-height: 560px;
      background: rgba(26,31,44,.98);
      border:1px solid rgba(255,255,255,.1); border-radius: 16px;
      box-shadow: 0 20px 60px rgba(0,0,0,.35);
      z-index: 999; display: flex; flex-direction: column;
      opacity:0; transform: translateY(8px) scale(.98); visibility:hidden;
      transition: all .25s ease;
      overflow: hidden;
    }
    .ai-widget.active { opacity:1; visibility: visible; transform: translateY(0) scale(1); }

    .ai-header {
      background: linear-gradient(45deg,#00e676,#00b8d4);
      color:#111; padding: 14px 16px; font-weight:700; display:flex; align-items:center; justify-content:space-between;
    }
    .ai-close {
      border:none; background:transparent; color:#111; font-size:22px; cursor:pointer; border-radius:50%; width:28px; height:28px;
    }
    .ai-close:hover { background: rgba(0,0,0,.08); }

    /* Chat area */
    .ai-chat {
      padding: 14px; overflow-y:auto; flex: 1 1 auto;
      scrollbar-width: thin; scrollbar-color: rgba(255,255,255,.25) transparent;
    }
    .ai-chat::-webkit-scrollbar { width: 8px; }
    .ai-chat::-webkit-scrollbar-thumb { background: rgba(255,255,255,.25); border-radius: 10px; }

    .ai-msg {
      max-width: 85%; padding: 10px 12px; border-radius: 12px; line-height:1.45;
      margin: 6px 0; word-wrap: break-word; white-space: pre-wrap;
    }
    .ai-msg.user {
      margin-left: auto;
      background: linear-gradient(45deg,#00b8d4,#00e676); color:#111;
      border-top-right-radius: 6px;
    }
    .ai-msg.bot {
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.08);
      border-top-left-radius: 6px;
    }
    .ai-typing {
      display:inline-block; width: 16px; height:16px; border-radius:50%;
      border: 2px solid rgba(255,255,255,.3); border-top-color:#00e676; animation: spin .8s linear infinite;
      vertical-align: middle;
    }
    @keyframes spin { to { transform: rotate(360deg);} }

    /* Suggestions row */
    .ai-suggestions {
      display:flex; gap:8px; padding: 10px 14px 0; flex-wrap: wrap;
    }
    .ai-chip {
      font-size:.85rem; padding: 6px 10px; border-radius: 16px; cursor:pointer;
      background: rgba(255,255,255,.08); border: 1px solid rgba(255,255,255,.15);
      transition:.2s all ease;
    }
    .ai-chip:hover { background: rgba(0,230,118,.18); border-color:#00e676; }

    /* Input row */
    .ai-input-row {
      display:flex; align-items:flex-end; gap: 8px; padding: 8px 12px 12px; border-top: 1px solid rgba(255,255,255,.08);
    }
    .ai-textarea {
      flex: 1 1 auto; min-height: 44px; max-height: 120px;
      resize: none; padding: 10px 12px; border-radius: 10px;
      border: 1px solid rgba(255,255,255,.12); background: rgba(255,255,255,.05); color:#fff;
      font-size: .95rem; line-height: 1.35; outline: none;
      overflow-y: auto;
    }
    .ai-textarea:focus { border-color: #00e676; box-shadow: 0 0 0 2px rgba(0,230,118,.18); }
    .ai-send {
      width: 44px; height:44px; border-radius: 10px; border:none; color:#111; cursor:pointer;
      background: linear-gradient(45deg,#00e676,#00b8d4); display:flex; align-items:center; justify-content:center;
      font-size: 18px;
      box-shadow: 0 6px 16px rgba(0,230,118,.3);
    }
    .ai-send:disabled { opacity:.6; cursor: not-allowed; box-shadow:none; }

    @media (max-width: 768px) {
      .ai-widget { right: 16px; left: 16px; width: auto; bottom: 90px; max-height: 70vh; }
      .floating-ai-button { right: 16px; bottom: 16px; }
    }
  </style>
</head>

<body>
  <!-- Top Nav -->
  <nav class="main-top-nav" id="mainTopNav">
    <div class="nav-flex">
      <div class="nav-logo">Kalyani</div>
      <ul>
        <li><a href="#home">Home</a></li>
        <li><a href="#education">Education</a></li>
        <li><a href="#experience">Experience</a></li>
        <li><a href="#projects">Projects</a></li>
        <li><a href="#skills">Skills</a></li>
        <li><a href="#dashboards">Dashboards</a></li>
      </ul>
    </div>
  </nav>

  <!-- Hero -->
  <section id="home" class="hero section">
    <div class="jumbotron">
      <h1>KALYANI MOHITE</h1>
      <div class="hero-intro">
        <p>
          I am a curious, motivated and passionate Computer Science graduate from George Mason University with a passion for making sense of data and building meaningful solutions.
          I have always been drawn to solving real-world problems, whether it's through analyzing patterns in data, creating dashboards that tell a story, or developing applications that improve everyday tasks.
        </p>
        <p style="margin-top: 1rem;">
          I enjoy working at the intersection of logic and creativity, and I am someone who thrives when I am learning something new or collaborating with others on impactful projects.
          Outside of work, I find joy in thoughtful conversations, long walks, and exploring different ways to grow both professionally and personally.
        </p>
      </div>
    </div>
  </section>

  <!-- Example other sections (education/experience/projects/skills/dashboards) ... keep your original content here -->
  <section id="education" class="section">
    <h2 class="section-title">Education</h2>
    <!-- (Keep your original boxes / details) -->
  </section>

  <section id="experience" class="section">
    <h2 class="section-title">Experience</h2>
  </section>

  <section id="projects" class="section">
    <h2 class="section-title">Projects</h2>
  </section>

  <section id="skills" class="section">
    <h2 class="section-title">Skills</h2>
  </section>

  <section id="dashboards" class="section">
    <h2 class="section-title">Dashboards</h2>
  </section>

  <!-- =========================
       Floating AI Button + Chat
       ========================= -->
  <button class="floating-ai-button" id="floatingAiButton" title="Ask AI">
    <i class="fas fa-robot"></i>
  </button>

  <div class="ai-widget" id="aiWidget" role="dialog" aria-label="AI Assistant">
    <div class="ai-header">
      <span>Ask AI Assistant</span>
      <button class="ai-close" id="aiWidgetClose" aria-label="Close">×</button>
    </div>

    <!-- Chat messages -->
    <div class="ai-chat" id="aiChat">
      <div class="ai-msg bot">
        Hi! I’m your portfolio assistant. Ask anything about Kalyani’s profile, education, projects, skills, or experience.
      </div>
    </div>

    <!-- Suggestion chips -->
    <div class="ai-suggestions">
      <span class="ai-chip" data-question="Summarize Kalyani's profile in 2 lines.">Profile summary</span>
      <span class="ai-chip" data-question="What is Kalyani’s best project for a Data Analyst role?">Best project?</span>
      <span class="ai-chip" data-question="Write a one–line LinkedIn headline highlighting Kalyani’s SQL + Power BI strengths.">LinkedIn headline</span>
      <span class="ai-chip" data-question="What are Kalyani’s top skills? Keep it concise.">Skills highlight</span>
    </div>

    <!-- Input row -->
    <div class="ai-input-row">
      <textarea id="aiTextarea" class="ai-textarea" placeholder="Type a question… (Enter to send, Shift+Enter for new line)"></textarea>
      <button class="ai-send" id="aiSendBtn" title="Send">
        ➤
      </button>
    </div>
  </div>

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"/>

  <script>
    // =============== Widget elements
    const floatingBtn   = document.getElementById('floatingAiButton');
    const widget        = document.getElementById('aiWidget');
    const closeBtn      = document.getElementById('aiWidgetClose');
    const chatEl        = document.getElementById('aiChat');
    const textarea      = document.getElementById('aiTextarea');
    const sendBtn       = document.getElementById('aiSendBtn');
    const chips         = document.querySelectorAll('.ai-chip');

    function openWidget() {
      widget.classList.add('active');
      setTimeout(() => textarea.focus(), 100);
    }
    function closeWidget() {
      widget.classList.remove('active');
    }
    floatingBtn.addEventListener('click', openWidget);
    closeBtn.addEventListener('click', closeWidget);

    // Auto-resize textarea
    function autoResize() {
      textarea.style.height = 'auto';
      const newH = Math.min(textarea.scrollHeight, 120);
      textarea.style.height = newH + 'px';
    }
    textarea.addEventListener('input', autoResize);

    function appendMessage(text, who = 'bot') {
      const div = document.createElement('div');
      div.className = `ai-msg ${who}`;
      div.textContent = text;
      chatEl.appendChild(div);
      chatEl.scrollTop = chatEl.scrollHeight;
    }

    function appendTyping() {
      const wrap = document.createElement('div');
      wrap.className = 'ai-msg bot';
      const dot = document.createElement('span');
      dot.className = 'ai-typing';
      wrap.appendChild(dot);
      chatEl.appendChild(wrap);
      chatEl.scrollTop = chatEl.scrollHeight;
      return wrap; // so we can remove later
    }

    async function sendQuestion(text) {
      if (!text || !text.trim()) return;

      // show user bubble
      appendMessage(text.trim(), 'user');

      // typing bubble
      const typingNode = appendTyping();

      try {
        const res = await fetch('/api/ask', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ question: text.trim() })
        });
        const data = await res.json();

        // remove typing
        typingNode.remove();

        if (!res.ok) {
          appendMessage('Error: ' + (data?.error || 'Request failed'), 'bot');
          return;
        }
        appendMessage(data?.answer || '(No answer)', 'bot');
      } catch (err) {
        typingNode.remove();
        appendMessage('Error: ' + err.message, 'bot');
      }
    }

    // Send on Enter (Shift+Enter = newline)
    textarea.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' && !e.shiftKey) {
        e.preventDefault();
        const text = textarea.value;
        textarea.value = '';
        autoResize();
        sendQuestion(text);
      }
    });

    // Send on click
    sendBtn.addEventListener('click', () => {
      const text = textarea.value;
      textarea.value = '';
      autoResize();
      sendQuestion(text);
    });

    // Chips
    chips.forEach(chip => {
      chip.addEventListener('click', () => {
        const q = chip.getAttribute('data-question');
        sendQuestion(q);
      });
    });

    // Smooth scroll for nav links
    document.querySelectorAll('.main-top-nav a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const targetId = this.getAttribute('href');
        const targetElement = document.querySelector(targetId);
        if (targetElement) {
          targetElement.scrollIntoView({ behavior:'smooth' });
        }
      });
    });
  </script>
</body>
</html>
